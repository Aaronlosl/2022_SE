{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport NaviBox from '@/components/NaviBox.vue';\nimport AbstractDis from '@/components/AbstractDis.vue';\nexport default {\n  components: {\n    NaviBox,\n    AbstractDis\n  },\n  name: 'PP1Search',\n\n  data() {\n    return {\n      showFixedSearch: false,\n      showFixedBottom: false,\n      searchBox: '',\n      bloglist: []\n    };\n  },\n\n  mounted() {\n    this.showBlogs(); // 监听页面滚动事件\n\n    window.addEventListener(\"scroll\", this.showSearch);\n  },\n\n  methods: {\n    showSearch() {\n      // 获取当前滚动条向下滚动的距离\n      let scrollTop1 = document.documentElement.scrollTop || document.body.scrollTop; // 当页面滚动到高度160px处时，显示搜索框\n\n      if (scrollTop1 > 160) {\n        this.showFixedSearch = true;\n      } else {\n        this.showFixedSearch = false;\n      }\n    },\n\n    Search() {\n      if (this.searchBox == \"\") {\n        alert(\"Please check your input\");\n      } else {\n        this.$router.push({\n          path: `/PP3Search/PP3Result/${this.searchBox}`\n        });\n      }\n    },\n\n    showBlogs() {\n      axios.post('http://127.0.0.1:8000/json/home/', {\n        post_type: \"Personal Development\"\n      }).then(response => {\n        console.log(response.data);\n\n        if (response.data['status'] != 1) {\n          alert('Sorry but you are not login');\n          this.$router.push('/');\n        } else {\n          this.bloglist = response.data['content'];\n        }\n      });\n    }\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}