{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport '@element-plus/icons-vue'; // ensure csrf-token append to post requests\n// https://www.freesion.com/article/8944598323/\n\naxios.interceptors.request.use(config => {\n  config.headers['X-Requested-With'] = 'XMLHttpRequest';\n  let regex = /.*csrftoken=([^;.]*).*$/; // 用于从cookie中匹配 csrftoken值\n\n  config.headers['X-CSRFToken'] = document.cookie.match(regex) === null ? null : document.cookie.match(regex)[1];\n  return config;\n});\nconst baseURL = 'http://localhost:3000';\naxios.defaults.baseURL = baseURL;\n/*\nconst loginCheck = params => {\n  return axios.post('/login', params).then(res => {\n      return res.data\n  })\n}\n*/\n\nexport default {\n  name: \"HelloWorld\",\n  props: {\n    msg: String\n  },\n\n  data() {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    Login() {\n      if (this.username == \"\" || this.password == \"\") {\n        alert(\"Please check your input\");\n      } else {\n        axios.post('http://127.0.0.1:8000/json/auth/', {\n          username: this.username,\n          password: this.password\n        }).then(response => {\n          console.log(response.data);\n\n          if (response.data['status'] != 1) {\n            alert(response.data['message']);\n          } else {\n            alert(response.data['message']);\n            this.$router.push('/FirstPage');\n          }\n        });\n      }\n    }\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}